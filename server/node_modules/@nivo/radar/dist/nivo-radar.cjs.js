"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("@nivo/core"),t=require("@nivo/legends"),n=require("@react-spring/web"),o=require("d3-shape"),a=require("@nivo/colors"),i=require("react/jsx-runtime"),l=require("@nivo/tooltip"),d=require("d3-scale");function s(){return s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}function u(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}var c=function(t){var l,d=t.data,s=t.item,u=t.colorByKey,c=t.fillByKey,f=t.radiusScale,m=t.rotation,g=t.angleStep,v=t.curveFactory,y=t.borderWidth,h=t.borderColor,p=t.fillOpacity,b=t.blendMode,x=r.useTheme(),j=a.useInheritedColor(h,x),S=e.useMemo((function(){return o.lineRadial().radius((function(e){return f(e)})).angle((function(e,r){return m+r*g})).curve(v)}),[f,m,g,v]),M=r.useMotionConfig(),L=M.animate,B=M.config,C=r.useAnimatedPath(S(d.map((function(e){return e[s]})))),k=n.useSpring({fill:u[s],stroke:j({key:s,color:u[s]}),config:B,immediate:!L}),O=null!=(l=c[s])?l:k.fill;return i.jsx(n.animated.path,{d:C,fill:O,fillOpacity:p,stroke:k.stroke,strokeWidth:y,style:{mixBlendMode:b}},s)},f=function(t){var o=t.radius,a=t.angles,l=t.indices,d=t.label,u=t.labelOffset,c=r.useMotionConfig(),f=c.animate,m=c.config,g=l.map((function(e,t){var n,i,l=r.positionFromAngle(a[t],o+u),d=(n=a[t],(i=r.radiansToDegrees(n)+90)<=10||i>=350||i>=170&&i<=190?"middle":i>180?"end":"start");return s({id:e,angle:r.radiansToDegrees(a[t]),anchor:d},l)})),v=n.useSprings(g.length,g.map((function(e){return{transform:"translate("+e.x+", "+e.y+")",config:m,immediate:!f}})));return i.jsx(i.Fragment,{children:v.map((function(r,t){var n=g[t];return e.createElement(d,{key:n.id,id:n.id,anchor:n.anchor,angle:n.angle,x:n.x,y:n.y,animated:r})}))})},m=["shape"],g=e.memo((function(e){var t=e.radius,o=r.useTheme(),a=r.useMotionConfig(),l=a.animate,d=a.config,u=n.useSpring({radius:t,config:d,immediate:!l});return i.jsx(n.animated.circle,s({fill:"none",r:n.to(u.radius,(function(e){return Math.max(e,0)}))},o.grid.line))})),v=function(t){var a=t.radius,l=t.rotation,d=t.angleStep,u=t.dataLength,c=r.useTheme(),f=e.useMemo((function(){return o.lineRadial().angle((function(e){return l+e*d})).radius(a).curve(o.curveLinearClosed)}),[l,d,a]),m=Array.from({length:u},(function(e,r){return r})),g=r.useAnimatedPath(f(m));return i.jsx(n.animated.path,s({fill:"none",d:g},c.grid.line))},y=function(e){var r=e.shape,t=u(e,m);return"circular"===r?i.jsx(g,{radius:t.radius}):i.jsx(v,s({},t))},h=function(t){var n=t.indices,o=t.levels,a=t.shape,l=t.radius,d=t.rotation,u=t.angleStep,c=t.label,m=t.labelOffset,g=r.useTheme(),v=e.useMemo((function(){return{radii:Array.from({length:o}).map((function(e,r){return l/o*(r+1)})).reverse(),angles:Array.from({length:n.length}).map((function(e,r){return d+r*u-Math.PI/2}))}}),[n,o,l,d,u]),h=v.radii,p=v.angles;return i.jsxs(i.Fragment,{children:[p.map((function(e,t){var n=r.positionFromAngle(e,l);return i.jsx("line",s({x1:0,y1:0,x2:n.x,y2:n.y},g.grid.line),"axis."+t)})),h.map((function(e,r){return i.jsx(y,{shape:a,radius:e,rotation:d,angleStep:u,dataLength:n.length},"level."+r)})),i.jsx(f,{radius:l,angles:p,indices:n,labelOffset:m,label:c})]})},p=function(t){var n=t.datum,o=t.keys,a=t.index,d=t.formatValue,s=t.colorByKey,u=t.radius,c=t.startAngle,f=t.endAngle,m=t.arcGenerator,g=t.tooltip,v=e.useState(!1),y=v[0],h=v[1],p=r.useTheme(),b=l.useTooltip(),x=b.showTooltipFromEvent,j=b.hideTooltip,S=e.useMemo((function(){var e=o.map((function(e){return{color:s[e],id:e,value:n[e],formattedValue:d(n[e],e)}}));return e.sort((function(e,r){return e.value-r.value})),e.reverse(),e}),[n,o,d,s]),M=e.useCallback((function(r){h(!0),x(e.createElement(g,{index:a,data:S}),r)}),[x,g,a,S]),L=e.useCallback((function(){h(!1),j()}),[j,h]),B=e.useMemo((function(){var e=r.positionFromAngle(c+.5*(f-c)-Math.PI/2,u);return{path:m({startAngle:c,endAngle:f}),tipX:e.x,tipY:e.y}}),[c,f,u,m]),C=B.path,k=B.tipX,O=B.tipY;return i.jsxs(i.Fragment,{children:[y&&i.jsx("line",{x1:0,y1:0,x2:k,y2:O,style:p.crosshair.line}),i.jsx("path",{d:C,fill:"#F00",fillOpacity:0,onMouseEnter:M,onMouseMove:M,onMouseLeave:L})]})},b=function(e){var r=e.data,t=e.keys,n=e.getIndex,a=e.formatValue,l=e.colorByKey,d=e.radius,s=e.rotation,u=e.angleStep,c=e.tooltip,f=o.arc().outerRadius(d).innerRadius(0),m=s-.5*u;return i.jsx(i.Fragment,{children:r.map((function(e){var r=n(e),o=m,s=o+u;return m+=u,i.jsx(p,{datum:e,keys:t,index:r,formatValue:a,colorByKey:l,startAngle:o,endAngle:s,radius:d,arcGenerator:f,tooltip:c},r)}))})},x=function(t){var n=t.data,o=t.keys,l=t.getIndex,d=t.colorByKey,u=t.radiusScale,c=t.rotation,f=t.angleStep,m=t.symbol,g=t.size,v=void 0===g?6:g,y=t.color,h=void 0===y?{from:"color"}:y,p=t.borderWidth,b=void 0===p?0:p,x=t.borderColor,j=void 0===x?{from:"color"}:x,S=t.enableLabel,M=void 0!==S&&S,L=t.label,B=void 0===L?"value":L,C=t.formatValue,k=t.labelYOffset,O=r.useTheme(),I=a.getInheritedColorGenerator(h,O),D=a.getInheritedColorGenerator(j,O),F=r.usePropertyAccessor(B),W=e.useMemo((function(){return n.reduce((function(e,t,n){var a=l(t);return o.forEach((function(o){var i=t[o],l={index:a,key:o,value:i,formattedValue:C(i,o),color:d[o]};e.push({key:o+"."+a,label:M?F(l):void 0,style:s({fill:I(l),stroke:D(l)},r.positionFromAngle(c+f*n-Math.PI/2,u(t[o]))),data:l})})),e}),[])}),[n,o,l,d,M,F,C,I,D,c,f,u]);return i.jsx(i.Fragment,{children:W.map((function(e){return i.jsx(r.DotsItem,{x:e.style.x,y:e.style.y,symbol:m,size:v,color:e.style.fill,borderWidth:b,borderColor:e.style.stroke,label:e.label,labelYOffset:k,datum:e.data},e.key)}))})},j={layers:["grid","layers","slices","dots","legends"],maxValue:"auto",rotation:0,curve:"linearClosed",borderWidth:2,borderColor:{from:"color"},gridLevels:5,gridShape:"circular",gridLabelOffset:16,gridLabel:function(e){var t=e.id,o=e.anchor,a=e.animated,l=r.useTheme();return i.jsx(n.animated.g,{transform:a.transform,children:i.jsx("text",{style:l.axis.ticks.text,dominantBaseline:"central",textAnchor:o,children:t})})},enableDots:!0,dotSize:6,dotColor:{from:"color"},dotBorderWidth:0,dotBorderColor:{from:"color"},enableDotLabel:!1,dotLabel:"formattedValue",dotLabelYOffset:-12,colors:{scheme:"nivo"},fillOpacity:.25,blendMode:"normal",isInteractive:!0,sliceTooltip:function(r){var t=r.index,n=r.data,o=e.useMemo((function(){return n.map((function(e){return[i.jsx(l.Chip,{color:e.color},e.id),e.id,e.formattedValue]}))}),[n]);return i.jsx(l.TableTooltip,{title:i.jsx("strong",{children:t}),rows:o})},legends:[],role:"img",animate:!0,motionConfig:"gentle",defs:[],fill:[]},S=["data"],M=function(t){var n=t.data,o=t.keys,i=t.indexBy,l=t.rotationDegrees,c=t.maxValue,f=t.valueFormat,m=t.curve,g=t.width,v=t.height,y=t.colors,h=void 0===y?j.colors:y,p=t.legends,b=t.defs,x=t.fill,M=r.usePropertyAccessor(i),L=e.useMemo((function(){return n.map(M)}),[n,M]),B=r.useValueFormatter(f),C=r.degreesToRadians(l),k=a.useOrdinalColorScale(h,"key"),O=e.useMemo((function(){return o.reduce((function(e,r,t){return e[r]=k({key:r,index:t}),e}),{})}),[o,k]),I=e.useMemo((function(){var e=o.map((function(e){return{key:e,color:O[e],data:n,fill:null}})),t=r.bindDefs(b,e,x),a=e.reduce((function(e,r){var t=r.key,n=r.fill;return e[t]=n,e}),{});return{boundDefs:t,fillByKey:a}}),[o,n,b,x,O]),D=I.boundDefs,F=I.fillByKey,W=e.useMemo((function(){var e=n.reduce((function(e,r){return[].concat(e,o.map((function(e){return r[e]})))}),[]),r="auto"!==c?c:Math.max.apply(Math,e),t=Math.min(g,v)/2;return{radius:t,radiusScale:d.scaleLinear().range([0,t]).domain([0,r]),centerX:g/2,centerY:v/2,angleStep:2*Math.PI/n.length}}),[o,n,c,g,v]),A=W.radius,T=W.radiusScale,V=W.centerX,K=W.centerY,P=W.angleStep,Y=r.useCurveInterpolation(m),w=e.useMemo((function(){return{data:n,keys:o,indices:L,colorByKey:O,centerX:V,centerY:K,radiusScale:T,angleStep:P}}),[n,o,L,O,V,K,T,P]),R=e.useMemo((function(){return o.map((function(e){return{id:e,label:e,color:O[e]}}))}),[o,O]),q=e.useMemo((function(){return p.map((function(e){var r=e.data,t=u(e,S),n=null==r?void 0:r.map((function(e){return s({},R.find((function(r){return r.id===e.id}))||{},e)}));return s({},t,{data:n||R})}))}),[p,R]);return{getIndex:M,indices:L,formatValue:B,colorByKey:O,fillByKey:F,boundDefs:D,rotation:C,radius:A,radiusScale:T,centerX:V,centerY:K,angleStep:P,curveFactory:Y,legendData:R,boundLegends:q,customLayerProps:w}},L=["isInteractive","animate","motionConfig","theme","renderWrapper"],B=function(n){var o=n.data,a=n.keys,l=n.indexBy,d=n.layers,u=void 0===d?j.layers:d,f=n.rotation,m=void 0===f?j.rotation:f,g=n.maxValue,v=void 0===g?j.maxValue:g,y=n.valueFormat,p=n.curve,S=void 0===p?j.curve:p,L=n.margin,B=n.width,C=n.height,k=n.borderWidth,O=void 0===k?j.borderWidth:k,I=n.borderColor,D=void 0===I?j.borderColor:I,F=n.gridLevels,W=void 0===F?j.gridLevels:F,A=n.gridShape,T=void 0===A?j.gridShape:A,V=n.gridLabel,K=void 0===V?j.gridLabel:V,P=n.gridLabelOffset,Y=void 0===P?j.gridLabelOffset:P,w=n.enableDots,R=void 0===w?j.enableDots:w,q=n.dotSymbol,X=n.dotSize,z=void 0===X?j.dotSize:X,E=n.dotColor,G=void 0===E?j.dotColor:E,H=n.dotBorderWidth,_=void 0===H?j.dotBorderWidth:H,J=n.dotBorderColor,N=void 0===J?j.dotBorderColor:J,Q=n.enableDotLabel,U=void 0===Q?j.enableDotLabel:Q,Z=n.dotLabel,$=void 0===Z?j.dotLabel:Z,ee=n.dotLabelYOffset,re=void 0===ee?j.dotLabelYOffset:ee,te=n.colors,ne=void 0===te?j.colors:te,oe=n.fillOpacity,ae=void 0===oe?j.fillOpacity:oe,ie=n.blendMode,le=void 0===ie?j.blendMode:ie,de=n.isInteractive,se=void 0===de?j.isInteractive:de,ue=n.sliceTooltip,ce=void 0===ue?j.sliceTooltip:ue,fe=n.legends,me=void 0===fe?j.legends:fe,ge=n.role,ve=n.ariaLabel,ye=n.ariaLabelledBy,he=n.ariaDescribedBy,pe=n.defs,be=void 0===pe?j.defs:pe,xe=n.fill,je=void 0===xe?j.fill:xe,Se=r.useDimensions(B,C,L),Me=Se.margin,Le=Se.innerWidth,Be=Se.innerHeight,Ce=Se.outerWidth,ke=Se.outerHeight,Oe=M({data:o,keys:a,indexBy:l,rotationDegrees:m,maxValue:v,valueFormat:y,curve:S,width:Le,height:Be,colors:ne,legends:me,defs:be,fill:je}),Ie=Oe.getIndex,De=Oe.indices,Fe=Oe.formatValue,We=Oe.colorByKey,Ae=Oe.fillByKey,Te=Oe.boundDefs,Ve=Oe.rotation,Ke=Oe.radius,Pe=Oe.radiusScale,Ye=Oe.centerX,we=Oe.centerY,Re=Oe.angleStep,qe=Oe.curveFactory,Xe=Oe.boundLegends,ze=Oe.customLayerProps,Ee={grid:null,layers:null,slices:null,dots:null,legends:null};return u.includes("grid")&&(Ee.grid=i.jsx("g",{transform:"translate("+Ye+", "+we+")",children:i.jsx(h,{levels:W,shape:T,radius:Ke,rotation:Ve,angleStep:Re,indices:De,label:K,labelOffset:Y})},"grid")),u.includes("layers")&&(Ee.layers=i.jsx("g",{transform:"translate("+Ye+", "+we+")",children:a.map((function(e){return i.jsx(c,{data:o,item:e,colorByKey:We,fillByKey:Ae,radiusScale:Pe,rotation:Ve,angleStep:Re,curveFactory:qe,borderWidth:O,borderColor:D,fillOpacity:ae,blendMode:le},e)}))},"layers")),u.includes("slices")&&se&&(Ee.slices=i.jsx("g",{transform:"translate("+Ye+", "+we+")",children:i.jsx(b,{data:o,keys:a,getIndex:Ie,formatValue:Fe,colorByKey:We,radius:Ke,rotation:Ve,angleStep:Re,tooltip:ce})},"slices")),u.includes("dots")&&R&&(Ee.dots=i.jsx("g",{transform:"translate("+Ye+", "+we+")",children:i.jsx(x,{data:o,keys:a,getIndex:Ie,radiusScale:Pe,rotation:Ve,angleStep:Re,symbol:q,size:z,colorByKey:We,color:G,borderWidth:_,borderColor:N,enableLabel:U,label:$,formatValue:Fe,labelYOffset:re})},"dots")),u.includes("legends")&&(Ee.legends=i.jsx(e.Fragment,{children:Xe.map((function(e,r){return i.jsx(t.BoxLegendSvg,s({},e,{containerWidth:B,containerHeight:C}),r)}))},"legends")),i.jsx(r.SvgWrapper,{defs:Te,width:Ce,height:ke,margin:Me,role:ge,ariaLabel:ve,ariaLabelledBy:ye,ariaDescribedBy:he,children:u.map((function(r,t){var n;return"function"==typeof r?i.jsx(e.Fragment,{children:e.createElement(r,ze)},t):null!=(n=null==Ee?void 0:Ee[r])?n:null}))})},C=function(e){var t=e.isInteractive,n=void 0===t?j.isInteractive:t,o=e.animate,a=void 0===o?j.animate:o,l=e.motionConfig,d=void 0===l?j.motionConfig:l,c=e.theme,f=e.renderWrapper,m=u(e,L);return i.jsx(r.Container,{animate:a,isInteractive:n,motionConfig:d,renderWrapper:f,theme:c,children:i.jsx(B,s({isInteractive:n},m))})};exports.Radar=C,exports.RadarDots=x,exports.ResponsiveRadar=function(e){return i.jsx(r.ResponsiveWrapper,{children:function(r){var t=r.width,n=r.height;return i.jsx(C,s({width:t,height:n},e))}})},exports.svgDefaultProps=j;
//# sourceMappingURL=nivo-radar.cjs.js.map
