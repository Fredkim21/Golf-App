import{useMemo as e,createElement as r,memo as t,useState as n,useCallback as o,Fragment as i}from"react";import{useTheme as a,useMotionConfig as l,useAnimatedPath as d,positionFromAngle as u,radiansToDegrees as c,usePropertyAccessor as s,DotsItem as f,useValueFormatter as m,degreesToRadians as g,bindDefs as v,useCurveInterpolation as y,Container as h,useDimensions as p,SvgWrapper as b,ResponsiveWrapper as x}from"@nivo/core";import{BoxLegendSvg as B}from"@nivo/legends";import{useSpring as L,animated as S,useSprings as k,to as O}from"@react-spring/web";import{lineRadial as C,curveLinearClosed as I,arc as M}from"d3-shape";import{useInheritedColor as W,getInheritedColorGenerator as K,useOrdinalColorScale as V}from"@nivo/colors";import{jsx as D,Fragment as Y,jsxs as w}from"react/jsx-runtime";import{useTooltip as A,Chip as F,TableTooltip as P}from"@nivo/tooltip";import{scaleLinear as X}from"d3-scale";function z(){return z=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},z.apply(this,arguments)}function T(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}var j=function(r){var t,n=r.data,o=r.item,i=r.colorByKey,u=r.fillByKey,c=r.radiusScale,s=r.rotation,f=r.angleStep,m=r.curveFactory,g=r.borderWidth,v=r.borderColor,y=r.fillOpacity,h=r.blendMode,p=a(),b=W(v,p),x=e((function(){return C().radius((function(e){return c(e)})).angle((function(e,r){return s+r*f})).curve(m)}),[c,s,f,m]),B=l(),k=B.animate,O=B.config,I=d(x(n.map((function(e){return e[o]})))),M=L({fill:i[o],stroke:b({key:o,color:i[o]}),config:O,immediate:!k}),K=null!=(t=u[o])?t:M.fill;return D(S.path,{d:I,fill:K,fillOpacity:y,stroke:M.stroke,strokeWidth:g,style:{mixBlendMode:h}},o)},E=function(e){var t=e.radius,n=e.angles,o=e.indices,i=e.label,a=e.labelOffset,d=l(),s=d.animate,f=d.config,m=o.map((function(e,r){var o,i,l=u(n[r],t+a),d=(o=n[r],(i=c(o)+90)<=10||i>=350||i>=170&&i<=190?"middle":i>180?"end":"start");return z({id:e,angle:c(n[r]),anchor:d},l)})),g=k(m.length,m.map((function(e){return{transform:"translate("+e.x+", "+e.y+")",config:f,immediate:!s}})));return D(Y,{children:g.map((function(e,t){var n=m[t];return r(i,{key:n.id,id:n.id,anchor:n.anchor,angle:n.angle,x:n.x,y:n.y,animated:e})}))})},H=["shape"],G=t((function(e){var r=e.radius,t=a(),n=l(),o=n.animate,i=n.config,d=L({radius:r,config:i,immediate:!o});return D(S.circle,z({fill:"none",r:O(d.radius,(function(e){return Math.max(e,0)}))},t.grid.line))})),R=function(r){var t=r.radius,n=r.rotation,o=r.angleStep,i=r.dataLength,l=a(),u=e((function(){return C().angle((function(e){return n+e*o})).radius(t).curve(I)}),[n,o,t]),c=Array.from({length:i},(function(e,r){return r})),s=d(u(c));return D(S.path,z({fill:"none",d:s},l.grid.line))},q=function(e){var r=e.shape,t=T(e,H);return"circular"===r?D(G,{radius:t.radius}):D(R,z({},t))},J=function(r){var t=r.indices,n=r.levels,o=r.shape,i=r.radius,l=r.rotation,d=r.angleStep,c=r.label,s=r.labelOffset,f=a(),m=e((function(){return{radii:Array.from({length:n}).map((function(e,r){return i/n*(r+1)})).reverse(),angles:Array.from({length:t.length}).map((function(e,r){return l+r*d-Math.PI/2}))}}),[t,n,i,l,d]),g=m.radii,v=m.angles;return w(Y,{children:[v.map((function(e,r){var t=u(e,i);return D("line",z({x1:0,y1:0,x2:t.x,y2:t.y},f.grid.line),"axis."+r)})),g.map((function(e,r){return D(q,{shape:o,radius:e,rotation:l,angleStep:d,dataLength:t.length},"level."+r)})),D(E,{radius:i,angles:v,indices:t,labelOffset:s,label:c})]})},N=function(t){var i=t.datum,l=t.keys,d=t.index,c=t.formatValue,s=t.colorByKey,f=t.radius,m=t.startAngle,g=t.endAngle,v=t.arcGenerator,y=t.tooltip,h=n(!1),p=h[0],b=h[1],x=a(),B=A(),L=B.showTooltipFromEvent,S=B.hideTooltip,k=e((function(){var e=l.map((function(e){return{color:s[e],id:e,value:i[e],formattedValue:c(i[e],e)}}));return e.sort((function(e,r){return e.value-r.value})),e.reverse(),e}),[i,l,c,s]),O=o((function(e){b(!0),L(r(y,{index:d,data:k}),e)}),[L,y,d,k]),C=o((function(){b(!1),S()}),[S,b]),I=e((function(){var e=u(m+.5*(g-m)-Math.PI/2,f);return{path:v({startAngle:m,endAngle:g}),tipX:e.x,tipY:e.y}}),[m,g,f,v]),M=I.path,W=I.tipX,K=I.tipY;return w(Y,{children:[p&&D("line",{x1:0,y1:0,x2:W,y2:K,style:x.crosshair.line}),D("path",{d:M,fill:"#F00",fillOpacity:0,onMouseEnter:O,onMouseMove:O,onMouseLeave:C})]})},Q=function(e){var r=e.data,t=e.keys,n=e.getIndex,o=e.formatValue,i=e.colorByKey,a=e.radius,l=e.rotation,d=e.angleStep,u=e.tooltip,c=M().outerRadius(a).innerRadius(0),s=l-.5*d;return D(Y,{children:r.map((function(e){var r=n(e),l=s;return s+=d,D(N,{datum:e,keys:t,index:r,formatValue:o,colorByKey:i,startAngle:l,endAngle:l+d,radius:a,arcGenerator:c,tooltip:u},r)}))})},U=function(r){var t=r.data,n=r.keys,o=r.getIndex,i=r.colorByKey,l=r.radiusScale,d=r.rotation,c=r.angleStep,m=r.symbol,g=r.size,v=void 0===g?6:g,y=r.color,h=void 0===y?{from:"color"}:y,p=r.borderWidth,b=void 0===p?0:p,x=r.borderColor,B=void 0===x?{from:"color"}:x,L=r.enableLabel,S=void 0!==L&&L,k=r.label,O=void 0===k?"value":k,C=r.formatValue,I=r.labelYOffset,M=a(),W=K(h,M),V=K(B,M),w=s(O),A=e((function(){return t.reduce((function(e,r,t){var a=o(r);return n.forEach((function(n){var o=r[n],s={index:a,key:n,value:o,formattedValue:C(o,n),color:i[n]};e.push({key:n+"."+a,label:S?w(s):void 0,style:z({fill:W(s),stroke:V(s)},u(d+c*t-Math.PI/2,l(r[n]))),data:s})})),e}),[])}),[t,n,o,i,S,w,C,W,V,d,c,l]);return D(Y,{children:A.map((function(e){return D(f,{x:e.style.x,y:e.style.y,symbol:m,size:v,color:e.style.fill,borderWidth:b,borderColor:e.style.stroke,label:e.label,labelYOffset:I,datum:e.data},e.key)}))})},Z={layers:["grid","layers","slices","dots","legends"],maxValue:"auto",rotation:0,curve:"linearClosed",borderWidth:2,borderColor:{from:"color"},gridLevels:5,gridShape:"circular",gridLabelOffset:16,gridLabel:function(e){var r=e.id,t=e.anchor,n=e.animated,o=a();return D(S.g,{transform:n.transform,children:D("text",{style:o.axis.ticks.text,dominantBaseline:"central",textAnchor:t,children:r})})},enableDots:!0,dotSize:6,dotColor:{from:"color"},dotBorderWidth:0,dotBorderColor:{from:"color"},enableDotLabel:!1,dotLabel:"formattedValue",dotLabelYOffset:-12,colors:{scheme:"nivo"},fillOpacity:.25,blendMode:"normal",isInteractive:!0,sliceTooltip:function(r){var t=r.index,n=r.data,o=e((function(){return n.map((function(e){return[D(F,{color:e.color},e.id),e.id,e.formattedValue]}))}),[n]);return D(P,{title:D("strong",{children:t}),rows:o})},legends:[],role:"img",animate:!0,motionConfig:"gentle",defs:[],fill:[]},$=["data"],_=["isInteractive","animate","motionConfig","theme","renderWrapper"],ee=function(t){var n=t.data,o=t.keys,a=t.indexBy,l=t.layers,d=void 0===l?Z.layers:l,u=t.rotation,c=void 0===u?Z.rotation:u,f=t.maxValue,h=void 0===f?Z.maxValue:f,x=t.valueFormat,L=t.curve,S=void 0===L?Z.curve:L,k=t.margin,O=t.width,C=t.height,I=t.borderWidth,M=void 0===I?Z.borderWidth:I,W=t.borderColor,K=void 0===W?Z.borderColor:W,Y=t.gridLevels,w=void 0===Y?Z.gridLevels:Y,A=t.gridShape,F=void 0===A?Z.gridShape:A,P=t.gridLabel,E=void 0===P?Z.gridLabel:P,H=t.gridLabelOffset,G=void 0===H?Z.gridLabelOffset:H,R=t.enableDots,q=void 0===R?Z.enableDots:R,N=t.dotSymbol,_=t.dotSize,ee=void 0===_?Z.dotSize:_,re=t.dotColor,te=void 0===re?Z.dotColor:re,ne=t.dotBorderWidth,oe=void 0===ne?Z.dotBorderWidth:ne,ie=t.dotBorderColor,ae=void 0===ie?Z.dotBorderColor:ie,le=t.enableDotLabel,de=void 0===le?Z.enableDotLabel:le,ue=t.dotLabel,ce=void 0===ue?Z.dotLabel:ue,se=t.dotLabelYOffset,fe=void 0===se?Z.dotLabelYOffset:se,me=t.colors,ge=void 0===me?Z.colors:me,ve=t.fillOpacity,ye=void 0===ve?Z.fillOpacity:ve,he=t.blendMode,pe=void 0===he?Z.blendMode:he,be=t.isInteractive,xe=void 0===be?Z.isInteractive:be,Be=t.sliceTooltip,Le=void 0===Be?Z.sliceTooltip:Be,Se=t.legends,ke=void 0===Se?Z.legends:Se,Oe=t.role,Ce=t.ariaLabel,Ie=t.ariaLabelledBy,Me=t.ariaDescribedBy,We=t.defs,Ke=void 0===We?Z.defs:We,Ve=t.fill,De=void 0===Ve?Z.fill:Ve,Ye=p(O,C,k),we=Ye.margin,Ae=Ye.innerWidth,Fe=Ye.innerHeight,Pe=Ye.outerWidth,Xe=Ye.outerHeight,ze=function(r){var t=r.data,n=r.keys,o=r.indexBy,i=r.rotationDegrees,a=r.maxValue,l=r.valueFormat,d=r.curve,u=r.width,c=r.height,f=r.colors,h=void 0===f?Z.colors:f,p=r.legends,b=r.defs,x=r.fill,B=s(o),L=e((function(){return t.map(B)}),[t,B]),S=m(l),k=g(i),O=V(h,"key"),C=e((function(){return n.reduce((function(e,r,t){return e[r]=O({key:r,index:t}),e}),{})}),[n,O]),I=e((function(){var e=n.map((function(e){return{key:e,color:C[e],data:t,fill:null}})),r=v(b,e,x),o=e.reduce((function(e,r){var t=r.key,n=r.fill;return e[t]=n,e}),{});return{boundDefs:r,fillByKey:o}}),[n,t,b,x,C]),M=I.boundDefs,W=I.fillByKey,K=e((function(){var e=t.reduce((function(e,r){return[].concat(e,n.map((function(e){return r[e]})))}),[]),r="auto"!==a?a:Math.max.apply(Math,e),o=Math.min(u,c)/2;return{radius:o,radiusScale:X().range([0,o]).domain([0,r]),centerX:u/2,centerY:c/2,angleStep:2*Math.PI/t.length}}),[n,t,a,u,c]),D=K.radius,Y=K.radiusScale,w=K.centerX,A=K.centerY,F=K.angleStep,P=y(d),j=e((function(){return{data:t,keys:n,indices:L,colorByKey:C,centerX:w,centerY:A,radiusScale:Y,angleStep:F}}),[t,n,L,C,w,A,Y,F]),E=e((function(){return n.map((function(e){return{id:e,label:e,color:C[e]}}))}),[n,C]),H=e((function(){return p.map((function(e){var r=e.data,t=T(e,$),n=null==r?void 0:r.map((function(e){return z({},E.find((function(r){return r.id===e.id}))||{},e)}));return z({},t,{data:n||E})}))}),[p,E]);return{getIndex:B,indices:L,formatValue:S,colorByKey:C,fillByKey:W,boundDefs:M,rotation:k,radius:D,radiusScale:Y,centerX:w,centerY:A,angleStep:F,curveFactory:P,legendData:E,boundLegends:H,customLayerProps:j}}({data:n,keys:o,indexBy:a,rotationDegrees:c,maxValue:h,valueFormat:x,curve:S,width:Ae,height:Fe,colors:ge,legends:ke,defs:Ke,fill:De}),Te=ze.getIndex,je=ze.indices,Ee=ze.formatValue,He=ze.colorByKey,Ge=ze.fillByKey,Re=ze.boundDefs,qe=ze.rotation,Je=ze.radius,Ne=ze.radiusScale,Qe=ze.centerX,Ue=ze.centerY,Ze=ze.angleStep,$e=ze.curveFactory,_e=ze.boundLegends,er=ze.customLayerProps,rr={grid:null,layers:null,slices:null,dots:null,legends:null};return d.includes("grid")&&(rr.grid=D("g",{transform:"translate("+Qe+", "+Ue+")",children:D(J,{levels:w,shape:F,radius:Je,rotation:qe,angleStep:Ze,indices:je,label:E,labelOffset:G})},"grid")),d.includes("layers")&&(rr.layers=D("g",{transform:"translate("+Qe+", "+Ue+")",children:o.map((function(e){return D(j,{data:n,item:e,colorByKey:He,fillByKey:Ge,radiusScale:Ne,rotation:qe,angleStep:Ze,curveFactory:$e,borderWidth:M,borderColor:K,fillOpacity:ye,blendMode:pe},e)}))},"layers")),d.includes("slices")&&xe&&(rr.slices=D("g",{transform:"translate("+Qe+", "+Ue+")",children:D(Q,{data:n,keys:o,getIndex:Te,formatValue:Ee,colorByKey:He,radius:Je,rotation:qe,angleStep:Ze,tooltip:Le})},"slices")),d.includes("dots")&&q&&(rr.dots=D("g",{transform:"translate("+Qe+", "+Ue+")",children:D(U,{data:n,keys:o,getIndex:Te,radiusScale:Ne,rotation:qe,angleStep:Ze,symbol:N,size:ee,colorByKey:He,color:te,borderWidth:oe,borderColor:ae,enableLabel:de,label:ce,formatValue:Ee,labelYOffset:fe})},"dots")),d.includes("legends")&&(rr.legends=D(i,{children:_e.map((function(e,r){return D(B,z({},e,{containerWidth:O,containerHeight:C}),r)}))},"legends")),D(b,{defs:Re,width:Pe,height:Xe,margin:we,role:Oe,ariaLabel:Ce,ariaLabelledBy:Ie,ariaDescribedBy:Me,children:d.map((function(e,t){var n;return"function"==typeof e?D(i,{children:r(e,er)},t):null!=(n=null==rr?void 0:rr[e])?n:null}))})},re=function(e){var r=e.isInteractive,t=void 0===r?Z.isInteractive:r,n=e.animate,o=void 0===n?Z.animate:n,i=e.motionConfig,a=void 0===i?Z.motionConfig:i,l=e.theme,d=e.renderWrapper,u=T(e,_);return D(h,{animate:o,isInteractive:t,motionConfig:a,renderWrapper:d,theme:l,children:D(ee,z({isInteractive:t},u))})},te=function(e){return D(x,{children:function(r){var t=r.width,n=r.height;return D(re,z({width:t,height:n},e))}})};export{re as Radar,U as RadarDots,te as ResponsiveRadar,Z as svgDefaultProps};
//# sourceMappingURL=nivo-radar.es.js.map
